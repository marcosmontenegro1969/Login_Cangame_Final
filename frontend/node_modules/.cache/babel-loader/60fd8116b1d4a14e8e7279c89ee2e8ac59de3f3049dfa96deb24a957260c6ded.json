{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-login\\\\frontend\\\\appfront\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\"; //Importa a função useState do React. Ela é um hook que permite adicionar estado a componentes de função.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  //Usa o hook useState para criar estados para 4 propriedades (email, senha, error e usuário).\n  //setEmail, setSenha, setError e setUsuario são funções que atualizam os estados de cada um.\n  const [email, setEmail] = useState(''); //cria um estado para armazenar o email, e o inicializa com uma string vazia.\n  const [senha, setSenha] = useState(''); //cria um estado para armazenar a senha, e o inicializa com uma string vazia.\n  const [error, setError] = useState(''); //cria um estado para armazenar o erro de login, e o inicializa com uma string vazia.\n  const [usuario, setUsuario] = useState(null); //cria um estado para armazenar o usuario, e o inicializa com nulo.\n\n  //Define uma função assíncrona chamada \"handleLogin\" que manipula o evento de clique\n  //no botão de login.\n  const handleLogin = async evento => {\n    //impede o comportamento padrão do evento clique, que seria o envio dos dados do formulário\n    //para o servidor, resultando em uma recarga completa da página. Com o \"preventDefault()\" a\n    //página não será recarregada, e os dados do formulário não serão enviados para o servidor.\n    evento.preventDefault();\n\n    //Exibe no console do navegador os valores de email e senha, que foram atualizados pelos\n    //campos input do formulário.\n    console.log(email, senha);\n    try {\n      const response = await axios.post('http://localhost:3000/login', JSON.stringify({\n        email,\n        senha\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log(response.data);\n      setUsuario(response.data);\n    } catch (error) {\n      if (!(error !== null && error !== void 0 && error.response)) {\n        setError('Erro ao acessar o servidor');\n      } else if (error.response.status === 401) {\n        setError('Usuário ou senha inválidos');\n      }\n    }\n  };\n\n  //Define a estrutura do componente de login. Composta de um formulário com dois campos \"input\"\n  //de entrada de e-mail e senha, e um botão de login.\n  return (\n    /*#__PURE__*/\n    //cria a div principal contendo o formulario, se o usuario for nulo. Se não for\n    //se não for nulo (já foi autenticado), exibe o nome do usuario e um botão para sair.\n    _jsxDEV(\"div\", {\n      className: \"container_Formulario_Login\",\n      children: usuario == null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"formulario_Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"email\",\n            required: true,\n            onChange: evento => setEmail(evento.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"senha\",\n            placeholder: \"senha\",\n            required: true,\n            onChange: evento => setSenha(evento.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-login\",\n            onClick: evento => handleLogin(evento),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Ol\\xE1 \", usuario.nome]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-login\",\n          onClick: () => setUsuario(null),\n          children: \"Sair\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n//Permite a exportação do componente Login para que possa ser usado em outros arquivos.\n_s(Login, \"MMDUGyL6de2fJGgLuutl2lDZD9o=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useState","jsxDEV","_jsxDEV","Login","_s","email","setEmail","senha","setSenha","error","setError","usuario","setUsuario","handleLogin","evento","preventDefault","console","log","response","post","JSON","stringify","headers","data","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","name","placeholder","required","onChange","target","value","onClick","nome","_c","$RefreshReg$"],"sources":["C:/react-login/frontend/appfront/src/components/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\"; //Importa a função useState do React. Ela é um hook que permite adicionar estado a componentes de função.\r\n\r\nfunction Login() {\r\n  //Usa o hook useState para criar estados para 4 propriedades (email, senha, error e usuário).\r\n  //setEmail, setSenha, setError e setUsuario são funções que atualizam os estados de cada um.\r\n  const [email, setEmail] = useState(''); //cria um estado para armazenar o email, e o inicializa com uma string vazia.\r\n  const [senha, setSenha] = useState(''); //cria um estado para armazenar a senha, e o inicializa com uma string vazia.\r\n  const [error, setError] = useState(''); //cria um estado para armazenar o erro de login, e o inicializa com uma string vazia.\r\n  const [usuario, setUsuario] = useState(null); //cria um estado para armazenar o usuario, e o inicializa com nulo.\r\n  \r\n  //Define uma função assíncrona chamada \"handleLogin\" que manipula o evento de clique\r\n  //no botão de login.\r\n  const handleLogin = async(evento) => {\r\n    //impede o comportamento padrão do evento clique, que seria o envio dos dados do formulário\r\n    //para o servidor, resultando em uma recarga completa da página. Com o \"preventDefault()\" a\r\n    //página não será recarregada, e os dados do formulário não serão enviados para o servidor.\r\n    evento.preventDefault();\r\n\r\n    //Exibe no console do navegador os valores de email e senha, que foram atualizados pelos\r\n    //campos input do formulário.\r\n    console.log (email, senha);\r\n    try {\r\n      const response = await axios.post('http://localhost:3000/login',\r\n        JSON.stringify ({email, senha}),\r\n        {headers: {'Content-Type': 'application/json'}});\r\n   \r\n        console.log(response.data);\r\n        setUsuario(response.data);\r\n\r\n      } catch (error) {\r\n      if (!error?.response) {\r\n        setError('Erro ao acessar o servidor');\r\n      } else if (error.response.status === 401) {\r\n        setError('Usuário ou senha inválidos');\r\n      }\r\n    }\r\n  };\r\n  \r\n  //Define a estrutura do componente de login. Composta de um formulário com dois campos \"input\"\r\n  //de entrada de e-mail e senha, e um botão de login.\r\n  return (\r\n    \r\n    //cria a div principal contendo o formulario, se o usuario for nulo. Se não for\r\n    //se não for nulo (já foi autenticado), exibe o nome do usuario e um botão para sair.\r\n    <div className = 'container_Formulario_Login'>\r\n      {usuario == null ? (\r\n        <div>\r\n          <h2>Login</h2> {/*cria o titulo \"Login\"*/}\r\n          {/*cria um formulario para conter os dados que serão enviados ao servidor*/}\r\n          <form className = 'formulario_Login'> \r\n\r\n            {/*cria os campos input e define \"placeholder\" para ambos */}\r\n            {/*onChange é um evento que ocorre quando o valor do campo é alterado.*/}\r\n            {/*onChange={(evento) => setEmail(evento.target.value)} é uma função que recebe um evento e atualiza o estado \r\n            \"email\" com o valor do campo input.*/}\r\n            {/*onChange={(evento) => setSenha(evento.target.value)} é uma função que recebe um evento e atualiza o estado\r\n            \"senha\" com o valor do campo input.*/}\r\n            <input type=\"email\" name=\"email\" placeholder= \"email\" required onChange={(evento) => setEmail(evento.target.value)}/>\r\n            <input type=\"password\" name=\"senha\" placeholder = \"senha\" required onChange={(evento) => setSenha(evento.target.value)}/>\r\n\r\n            {/*cria um botão padrão para enviar os dados. Quando o botão é acionado (pelo cique do mouse ou enter\r\n            no teclado), o \"onClick\" chama a função handleLogin, e passa pra ela o parâmetro \"evento\", que neste caso\r\n            é o \"clique\".*/}\r\n            <button type=\"submit\" className='btn-login' onClick = {(evento) => handleLogin(evento)}>Login</button>\r\n          </form>\r\n          <p>{error}</p>\r\n        </div>\r\n      ) : (\r\n          <div>\r\n            <h2>Olá {usuario.nome}</h2>\r\n            <button type=\"button\" className='btn-login' onClick = {() => setUsuario(null)}>Sair</button>\r\n          </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n//Permite a exportação do componente Login para que possa ser usado em outros arquivos.\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}